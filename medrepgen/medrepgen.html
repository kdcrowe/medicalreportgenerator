<!DOCTYPE html>
<html>

<head>
<style>
p1 {
	color: maroon;
}
label {
	margin-left: 40px;
}
</style>
</head>


<body onload="PgLoadFunc()">


<!--
 ==============================================================================
 DISPATCHED section
 ==============================================================================
 -->
<a id="dispatchedsection"></a>
<p1>DISPATCHED</p1>
<fieldset>

<form>
Was the patient you were dispatched for...
<select id="D001">
  <option>a conscious, breathing and alert</option>
  <option>a conscious, breathing and not fully alert</option>
  <option>an unconscious but breathing</option>
  <option>an unconscious and not breathing</option>
</select>
<br><br>
</form>


<form action="#" method="post" class="D002" id="D002">
Is the patient male or female?<br></br>
<label><input type="radio" name="sex" value="male" checked />Male</label>
<label><input type="radio" name="sex" value="Female" />Female</label>
<br></br>
</form>


<form action="#" method="post" class="D003" id="D003">
Was there a designation on the call?<br></br>
<label><input type="radio" name="designation" value="" checked />N.A.</label>
<label><input type="radio" name="designation" value="Alpha level" />Alpha</label>
<label><input type="radio" name="designation" value="Bravo level" />Bravo</label>
<label><input type="radio" name="designation" value="Charlie level" />Charlie</label>
<label><input type="radio" name="designation" value="Delta level" />Delta</label>
<label><input type="radio" name="designation" value="Echo level" />Echo</label>
<br><br>
</form>

<form action="#" method="post" class="D004" id="D004">
Were there additional dispatch details?<br></br>
<label><input type="radio" name="dispdet" value="Yes" checked />Yes</label>
<label><input type="radio" name="dispdet" value="No" />No</label>
<br></br>
</form>

<a href="#dispatchedsection">Dispatched</a>&nbsp;&nbsp<a href="#chiefcomplaintsection">Chief Complaint</a>&nbsp;&nbsp<a href="#historysection">History</a>&nbsp;&nbsp<a href="#assessmentsection">Assessment</a>&nbsp;&nbsp<a href="#treatmentsection">Treatment</a>&nbsp;&nbsp<a href="#transportsection">Transport</a>&nbsp;&nbsp<a href="#othersection">Other</a>&nbsp;&nbsp<a href="#generatesection">GENERATE</a>&nbsp;&nbsp
</fieldset>



<br></br>
<!--
 ==============================================================================
 CHIEF COMPLAINT section
 ==============================================================================
 -->
<a id="chiefcomplaintsection"></a>
<p1>CHIEF COMPLAINT</p1>
<fieldset>

<form>
How did you get the chief complaint?
<select id="myC001">
  <option>Pt states, "XXX"</option>
  <option>Bystanders noted that XXX</option>
  <option>Pt appears to XXX</option>
</select>
<br></br>
</form>
<a href="#dispatchedsection">Dispatched</a>&nbsp;&nbsp<a href="#chiefcomplaintsection">Chief Complaint</a>&nbsp;&nbsp<a href="#historysection">History</a>&nbsp;&nbsp<a href="#assessmentsection">Assessment</a>&nbsp;&nbsp<a href="#treatmentsection">Treatment</a>&nbsp;&nbsp<a href="#transportsection">Transport</a>&nbsp;&nbsp<a href="#othersection">Other</a>&nbsp;&nbsp<a href="#generatesection">GENERATE</a>&nbsp;&nbsp
</fieldset>


<br></br>
<!--
 ==============================================================================
 HISTORY section
 ==============================================================================
 -->
<a id="historysection"></a>
<p1>HISTORY</p1>
<fieldset>

<form action="#" method="post" class="H001" id="H001">
Who did you meet on scene?<br></br>
<label><input type="checkbox" name="meet" value="pt" checked />the patient</label>
<label><input type="checkbox" name="meet" value="pt's family" />patients family</label>
<label><input type="checkbox" name="meet" value="MPD" />Milford Police</label>
<label><input type="checkbox" name="meet" value="MFD" />Milford Fire</label>
<label><input type="checkbox" name="meet" value="bystanders" />bystanders</label>
<label><input type="checkbox" name="meet" value="XXX" />Other</label>
<br><br>
</form>


<form action="#" method="post" class="H002" id="H002">
Patient was found...<br></br>
<label><input type="radio" name="found" value=" seated" checked />seated</label>
<label><input type="radio" name="found" value=" lying" />lying</label>
<label><input type="radio" name="found" value=" standing" />standing</label>
<label><input type="radio" name="found" value=" XXX" />other</label>
<br><br>
</form>

<form action="#" method="post" class="H002a" id="H002a">
If seated, on what...<br></br>
<label><input type="radio" name="foundseat" value="" checked />&lt;blank&gt</label>
<label><input type="radio" name="foundseat" value=" on couch" />couch</label>
<label><input type="radio" name="foundseat" value=" on a chair" />chair</label>
<label><input type="radio" name="foundseat" value=" on the floor" />floor</label>
<label><input type="radio" name="foundseat" value=" on the ground" />ground</label>
<label><input type="radio" name="foundseat" value=" on XXX" />other</label>
<br><br>
</form>

<form action="#" method="post" class="H002b" id="H002b">
If lying, how...<br></br>
<label><input type="radio" name="foundlying" value="" checked />&lt;blank&gt</label>
<label><input type="radio" name="foundlying" value=", fowlers" />fowlers</label>
<label><input type="radio" name="foundlying" value=", semi-fowlers" />semi-fowlers</label>
<label><input type="radio" name="foundlying" value=", prone" />prone</label>
<label><input type="radio" name="foundlying" value=", supine" />supine</label>
<label><input type="radio" name="foundlying" value=", XXX lateral recumbent" />XXX lateral recumbent</label>
<label><input type="radio" name="foundlying" value=" XXX" />other</label>
<br><br>
</form>

<form action="#" method="post" class="H002c" id="H002c">
If lying, on what...<br></br>
<label><input type="radio" name="foundlyingon" value="" checked />&lt;blank&gt</label>
<label><input type="radio" name="foundlyingon" value=", on a bed" />bed</label>
<label><input type="radio" name="foundlyingon" value=", on the couch" />couch</label>
<label><input type="radio" name="foundlyingon" value=", on the floor" />floor</label>
<label><input type="radio" name="foundlyingon" value=", on the ground" />ground</label>
<label><input type="radio" name="foundlyingon" value=", on the stairs" />stairs</label>
<label><input type="radio" name="foundlying" value=" on the XXX" />other</label>
<br><br>
</form>

<form action="#" method="post" class="H003" id="H003">
What location...<br></br>
<label><input type="radio" name="location" value=" living room" checked />living room</label>
<label><input type="radio" name="location" value=" bedroom" />bedroom</label>
<label><input type="radio" name="location" value=" kitchen" />kitchen</label>
<label><input type="radio" name="location" value=" bathroom" />bathroom</label>
<label><input type="radio" name="location" value=" XXX" />other</label>
<br><br>
</form>


<!-- 2nd paragraph -->
<form action="#" method="post" class="H100" id="H100">
Did anything happen prior to your arrival that should be noted?<br></br>
<label><input type="radio" name="PTA" value="Yes" checked />Yes</label>
<label><input type="radio" name="PTA" value="No" />No</label>
<br></br>
</form>


<a href="#dispatchedsection">Dispatched</a>&nbsp;&nbsp<a href="#chiefcomplaintsection">Chief Complaint</a>&nbsp;&nbsp<a href="#historysection">History</a>&nbsp;&nbsp<a href="#assessmentsection">Assessment</a>&nbsp;&nbsp<a href="#treatmentsection">Treatment</a>&nbsp;&nbsp<a href="#transportsection">Transport</a>&nbsp;&nbsp<a href="#othersection">Other</a>&nbsp;&nbsp<a href="#generatesection">GENERATE</a>&nbsp;&nbsp
</fieldset>



<br></br>
<!--
 ==============================================================================
 ASSESSMENT section
 ==============================================================================
 -->
<a id="assessmentsection"></a>
<p1>ASSESSMENT</p1>
<fieldset>

<form action="#" method="post" class="A001" id="A001">
<p><input type="checkbox" name="HtoT" id="HtoT" value="1" />Was there a physical exam?</p>
    <div id="HtoT_sub">
        <p><span>Check which types</span>
        <label><input type="checkbox" name="bparts[]" value="Head" />Head</label>
        <label><input type="checkbox" name="bparts[]" value="Neck" />Neck</label>
        <label><input type="checkbox" name="bparts[]" value="Chest" />Chest</label>
        <label><input type="checkbox" name="bparts[]" value="Abdomen" />Abdomen</label>
        <label><input type="checkbox" name="bparts[]" value="Legs" />Legs</label>
        <label><input type="checkbox" name="bparts[]" value="Arms" />Arms</label></p>
    </div>


<a href="#dispatchedsection">Dispatched</a>&nbsp;&nbsp<a href="#chiefcomplaintsection">Chief Complaint</a>&nbsp;&nbsp<a href="#historysection">History</a>&nbsp;&nbsp<a href="#assessmentsection">Assessment</a>&nbsp;&nbsp<a href="#treatmentsection">Treatment</a>&nbsp;&nbsp<a href="#transportsection">Transport</a>&nbsp;&nbsp<a href="#othersection">Other</a>&nbsp;&nbsp<a href="#generatesection">GENERATE</a>&nbsp;&nbsp
</fieldset>



<br></br>	
<!--
 ==============================================================================
 TREATMENT section
 ==============================================================================
 -->
<a id="treatmentsection"></a>
<p1>TREATMENT</p1>
<fieldset>


<a href="#dispatchedsection">Dispatched</a>&nbsp;&nbsp<a href="#chiefcomplaintsection">Chief Complaint</a>&nbsp;&nbsp<a href="#historysection">History</a>&nbsp;&nbsp<a href="#assessmentsection">Assessment</a>&nbsp;&nbsp<a href="#treatmentsection">Treatment</a>&nbsp;&nbsp<a href="#transportsection">Transport</a>&nbsp;&nbsp<a href="#othersection">Other</a>&nbsp;&nbsp<a href="#generatesection">GENERATE</a>&nbsp;&nbsp
</fieldset>



<br></br>
<!--
 ==============================================================================
 TRANSPORT section
 ==============================================================================
 -->
<a id="transportsection"></a>
<p1>TRANSPORT</p1>
<fieldset>

<form>
How was patient during transport?
<select id="T001">
  <option>Transport was otherwise uneventful</option>
  <option>Pt remained talkative and cooperative throughout transport</option>
  <option>Pt appeared agitated throughout transport</option>
  <option>Pt appeared uncomfortable throughout transport</option>
  <option>Pt appeared in pain throughout transport</option>
  <option>Transport was XXX</option>
</select>
<br></br>
</form>


<form action="#" method="post" class="T002" id="T002">
Which hospital did you transport to?<br></br>
<label><input type="radio" name="hospital" value=" to SNHMC." checked />SNHMC</label>
<label><input type="radio" name="hospital" value=" to St Joseph." />St Joseph</label>
<label><input type="radio" name="hospital" value=" to the Elliot." />Elliot</label>
<label><input type="radio" name="hospital" value=" to CMC." />CMC</label>
<label><input type="radio" name="hospital" value=" to Monadnock Community." />Monadnock</label>
<br></br>
</form>


<a href="#dispatchedsection">Dispatched</a>&nbsp;&nbsp<a href="#chiefcomplaintsection">Chief Complaint</a>&nbsp;&nbsp<a href="#historysection">History</a>&nbsp;&nbsp<a href="#assessmentsection">Assessment</a>&nbsp;&nbsp<a href="#treatmentsection">Treatment</a>&nbsp;&nbsp<a href="#transportsection">Transport</a>&nbsp;&nbsp<a href="#othersection">Other</a>&nbsp;&nbsp<a href="#generatesection">GENERATE</a>&nbsp;&nbsp
</fieldset>



<br></br>
<!--
 ==============================================================================
 OTHER section
 ==============================================================================
 -->
<a id="othersection"></a>
<p1>OTHER</p1>
<fieldset>

Other field automatically filled in with primary care physician & ER Doctor XXX fields.<br></br>

<a href="#dispatchedsection">Dispatched</a>&nbsp;&nbsp<a href="#chiefcomplaintsection">Chief Complaint</a>&nbsp;&nbsp<a href="#historysection">History</a>&nbsp;&nbsp<a href="#assessmentsection">Assessment</a>&nbsp;&nbsp<a href="#treatmentsection">Treatment</a>&nbsp;&nbsp<a href="#transportsection">Transport</a>&nbsp;&nbsp<a href="#othersection">Other</a>&nbsp;&nbsp<a href="#generatesection">GENERATE</a>&nbsp;&nbsp
</fieldset>


<br></br>
<!--
 ==============================================================================
  Generate the document by calling javascript function
 ==============================================================================
  -->
<a id="generatesection">

  <input type="button" onclick="getOption()" value="Generate!">
<br></br><hr></hr>


<!-- 
 ==============================================================================
 Display the "demo" document
 ==============================================================================
 -->
<p id="demo"></p>

<hr></hr>
<a href="#dispatchedsection">Dispatched</a>&nbsp;&nbsp<a href="#chiefcomplaintsection">Chief Complaint</a>&nbsp;&nbsp<a href="#historysection">History</a>&nbsp;&nbsp<a href="#assessmentsection">Assessment</a>&nbsp;&nbsp<a href="#treatmentsection">Treatment</a>&nbsp;&nbsp<a href="#transportsection">Transport</a>&nbsp;&nbsp<a href="#othersection">Other</a>&nbsp;&nbsp<a href="#generatesection">GENERATE</a>&nbsp;&nbsp



<!--
 ==============================================================================
  SCRIPT section
 ==============================================================================
  -->
<script>

//
// Get Radiobutton data
//
function getRadioVal(form, name) {
    var val;
    // get list of radio buttons with specified name
    var radios = form.elements[name];
    
    // loop through list of radio buttons
    for (var i = 0, len = radios.length; i < len; i++) {
        if ( radios[i].checked ) { // radio checked?
            val = radios[i].value; // if so, hold its value in val
            break; // and break out of for loop
        }
    }
    return val; // return value of checked radio or undefined if none checked
}


//
// Get Checkbox data
//
function getCheckData(form, name) {
    var val = "";
    var join = "";
	var len = 0;
	var totalchecked = 0;
	var timesthrough = 0;
	// get list of radio buttons with specified name
    var cboxes = form.elements[name];

	// Find out how many checkboxes are checked:
	for (var j = 0, len = cboxes.length; j < len; j++) {
		// console.log("j = ", j);
        if ( cboxes[j].checked ) { // check box checked?
			totalchecked++;
		}
	}

    // loop through list of check boxes
    for (var i = 0, len = cboxes.length; i < len; i++) {
        if ( cboxes[i].checked ) { // check box checked?
			if (timesthrough > 0) {
				join = ", ";
			}
			if ( (timesthrough != 0) && (timesthrough == (totalchecked - 1)) ) {
				join = " and ";
			}
            val = val + join + cboxes[i].value; // if so, add its value in val
			timesthrough++;
        }
    }
    return val; // return value of checked radio or undefined if none checked
}



//
// This function runs when the page first loads
//
function PgLoadFunc() {
	toggleSub('HtoT', 'HtoT_sub');
}

//
// assign function to onclick property of checkbox
//	
document.getElementById('HtoT').onclick = function() {
	// call toggleSub when checkbox clicked
	// toggleSub args: checkbox clicked on (this), id of element to show/hide
	toggleSub(this, 'HtoT_sub');
};


//
// called onclick of checkbox
//
function toggleSub(box, id) {
    // get reference to related content to display/hide
    var el = document.getElementById(id);
    
    if ( box.checked ) {
        el.style.display = 'block';
    } else {
        el.style.display = 'none';
    }
}


//
// GetOptions
//
function getOption() {
	const sp2 = "&nbsp;&nbsp";
	const newP = "<br><br>";
	const newP3 = "<br><br><br>";
	
	
	// ************************************************************************
	// DISPATCHED
	var disp1 = "D:" + sp2 + "Dispatched for ";
	var disp2t = document.getElementById("D001");	// cba, etc.
	var disp2 = disp2t.options[disp2t.selectedIndex].text;
	var disp3 = " XXX YO ";
	var gender = getRadioVal(document.getElementById("D002"), "sex");
	var desig = getRadioVal(document.getElementById("D003"), "designation");
	if (desig != "") {
		desig = ", " + desig + " call";
	}
	var dispdetail = getRadioVal(document.getElementById("D004"), "dispdet");
	//var disp6t = document.getElementById("D004");	// additional detail yes/no
	//disp6t = disp6t.options[disp6t.selectedIndex].text;
	if (dispdetail == "Yes") {
		dispdetail = " with a report of XXX.";
		if (desig != "")
			dispdetail = "," + dispdetail;
	} else {
		dispdetail = ". No additional details included in dispatch.";
	}
	
	Dispatched = disp1 + disp2 + disp3 + gender + desig + dispdetail +
		newP3;
	
	// ************************************************************************
	// CHIEF COMPLAINT
	var comp1 = "C:" + sp2;
	var comp2t = document.getElementById("myC001");
	var comp2 = comp2t.options[comp2t.selectedIndex].text;
	
	CComplaint = comp1 + comp2 + newP3;
	
	// ************************************************************************
	// HISTORY
	
	// UOA
	var hist1 = "H:" + sp2;
	var metonscene = getCheckData(document.getElementById("H001"), "meet");
	var UOA = "UOA were met on-scene by ";
	if (metonscene == "") {
		UOA = "";
	} else {
		metonscene = metonscene + ".";
	}
	var found = getRadioVal(document.getElementById("H002"), "found");
	var ptFound =  "Pt was found" + found;
	var foundseat = getRadioVal(document.getElementById("H002a"), "foundseat");
	var foundlying = getRadioVal(document.getElementById("H002b"), "foundlying");
	var foundlyingon = getRadioVal(document.getElementById("H002c"), "foundlyingon");
	if (found == " seated")
		ptFound += foundseat;
	if (found == " lying")
		ptFound = ptFound + foundlying + foundlyingon;
	var location = getRadioVal(document.getElementById("H003"), "location");
	ptFound = ptFound + " in the " + location + ".";
	
	
	// PTA
	var PTA = getRadioVal(document.getElementById("H100"), "PTA");
	if (PTA == "Yes") {
		var PTOA = newP + "Prior to our arrival XXX."
	} else {
		var PTOA = "";
	}
	
	History = hist1 + UOA + metonscene + sp2 + ptFound + PTOA + newP3;

	// ************************************************************************
	// ASSESSMENT
	var asse1 = "A:" + sp2;


	
	Assessment = asse1 + newP3;

	// ************************************************************************
	// TREATMENT
	var trea1 = "R:" + sp2;
	
	
	Treatment = trea1 + newP3;

	// ************************************************************************
	// TRANSPORT
	var tran1 = "T:" + sp2;
	var tran2t = document.getElementById("T001");	// pt state during transport
	var tran2 = tran2t.options[tran2t.selectedIndex].text;
	var hospital = getRadioVal(document.getElementById("T002"), "hospital");
	hospital += sp2;

	var toRoom = "Pt was unloaded from the ambulance and wheeled into the ER to room XXX." + sp2;
	var unbuckle = "All belts were unbuckled and rail was lowered, ";
	
	var ptToBed = unbuckle + sp2;
	var toNurse = "Full report and transition of pt care given to Nurse XXX.";
	
	Transport = tran1 + tran2 + hospital + toRoom + ptToBed + toNurse + newP3;

	// ************************************************************************
	// OTHER
	var othe1 = "O:" + sp2;
	var PtPCP = "Pt's PCP:  XXX;";
	var ERDoc = sp2 + "ER Doctor:  XXX";
	
	Other = othe1 + PtPCP + ERDoc + newP3;

	
	// EOR
	EOR = "EOR; KDC";

	// Assemble all the sections together...
	document.getElementById("demo").innerHTML = Dispatched + CComplaint +
		History + Assessment + Treatment + Transport + Other + EOR;
}


function myFunction() {

	var a = "TESTING";
    var w = window.open();
    w.document.open();
    w.document.write("<h1>Hello " + a + " World!</h1>");
    w.document.close();
}

</script>

</body>
</html>
