<!DOCTYPE html>
<html>

<head>
<style>
p1 {
	color: maroon;
}
label {
	margin-left: 40px;
}
</style>
</head>


<body onload="PgLoadFunc()">


<!--
************
*** TODO ***
************

HTML
====
* might need some fieldset forms for things like S/Sx, Events leading up to, etc
<form>
 <fieldset>
  <legend>Personalia:</legend>
  Name: <input type="text"><br>
  Email: <input type="text"><br>
  Date of birth: <input type="text">
 </fieldset>
</form>


Javascript
==========
1) Get a random string - might want to work this in with words like:
   said, stated, indicated, etc to give the report some randomness?
var textArray = [
    'song1.ogg',
    'song2.ogg'
];
var randomNumber = Math.floor(Math.random()*textArray.length);

audioElement.setAttribute('src', textArray[randomNumber]);


2) Need another checkbox function like getCheckData() but this one will just return
   all the checked items concatenated together with double-spaces between them.

-->



<!--
 ==============================================================================
 DISPATCHED section
 ==============================================================================
 -->
<a id="dispatchedsection"></a>
<p1><b>DISPATCHED</b></p1>
<fieldset>

<form>
Was the patient you were dispatched for...
<select id="D001">
  <option>a conscious, breathing and alert</option>
  <option>a conscious, breathing and not fully alert</option>
  <option>an unconscious but breathing</option>
  <option>an unconscious and not breathing</option>
</select>
<br><br>
</form>


<form action="#" method="post" class="D002" id="D002">
Is the patient male or female?<br></br>
<label><input type="radio" name="sex" value="male" checked />Male</label>
<label><input type="radio" name="sex" value="Female" />Female</label>
<br></br>
</form>


<form action="#" method="post" class="D003" id="D003">
Was there a designation on the call?<br></br>
<label><input type="radio" name="designation" value="" checked />N.A.</label>
<label><input type="radio" name="designation" value="Alpha level" />Alpha</label>
<label><input type="radio" name="designation" value="Bravo level" />Bravo</label>
<label><input type="radio" name="designation" value="Charlie level" />Charlie</label>
<label><input type="radio" name="designation" value="Delta level" />Delta</label>
<label><input type="radio" name="designation" value="Echo level" />Echo</label>
<br><br>
</form>

<form action="#" method="post" class="D004" id="D004">
Were there additional dispatch details?<br></br>
<label><input type="radio" name="dispdet" value="Yes" checked />Yes</label>
<label><input type="radio" name="dispdet" value="No" />No</label>
<br></br>
</form>

<br><a href="#dispatchedsection">Dispatched</a>&nbsp;&nbsp<a href="#chiefcomplaintsection">Chief Complaint</a>&nbsp;&nbsp<a href="#historysection">History</a>&nbsp;&nbsp<a href="#assessmentsection">Assessment</a>&nbsp;&nbsp<a href="#treatmentsection">Treatment</a>&nbsp;&nbsp<a href="#transportsection">Transport</a>&nbsp;&nbsp<a href="#othersection">Other</a>&nbsp;&nbsp<a href="#generatesection">GENERATE</a>&nbsp;&nbsp
</fieldset>



<br></br>
<!--
 ==============================================================================
 CHIEF COMPLAINT section
 ==============================================================================
 -->
<a id="chiefcomplaintsection"></a>
<p1><b>CHIEF COMPLAINT</b></p1>
<fieldset>

<form>
How did you get the chief complaint?
<select id="myC001">
  <option>Pt states, "XXX"</option>
  <option>Bystanders noted that XXX</option>
  <option>Pt appears to XXX</option>
</select>
<br></br>
</form>

<br><a href="#dispatchedsection">Dispatched</a>&nbsp;&nbsp<a href="#chiefcomplaintsection">Chief Complaint</a>&nbsp;&nbsp<a href="#historysection">History</a>&nbsp;&nbsp<a href="#assessmentsection">Assessment</a>&nbsp;&nbsp<a href="#treatmentsection">Treatment</a>&nbsp;&nbsp<a href="#transportsection">Transport</a>&nbsp;&nbsp<a href="#othersection">Other</a>&nbsp;&nbsp<a href="#generatesection">GENERATE</a>&nbsp;&nbsp
</fieldset>


<br></br>
<!--
 ==============================================================================
 HISTORY section
 ==============================================================================
 -->
<a id="historysection"></a>
<p1><b>HISTORY</b></p1>
<fieldset>

<form action="#" method="post" class="H001" id="H001">
Who did you meet on scene?<br></br>
<label><input type="checkbox" name="meet" value="pt" checked />the patient</label>
<label><input type="checkbox" name="meet" value="pt's family" />patients family</label>
<label><input type="checkbox" name="meet" value="MPD" />Milford Police</label>
<label><input type="checkbox" name="meet" value="MFD" />Milford Fire</label>
<label><input type="checkbox" name="meet" value="bystanders" />bystanders</label>
<label><input type="checkbox" name="meet" value="XXX" />Other</label>
<br><br>
</form>


<form action="#" method="post" class="H002" id="H002">
Patient was found...<br></br>
<label><input type="radio" name="found" value=" seated" checked />seated</label>
<label><input type="radio" name="found" value=" lying" />lying</label>
<label><input type="radio" name="found" value=" standing" />standing</label>
<label><input type="radio" name="found" value=" XXX" />other</label>
<br><br>
</form>

<form action="#" method="post" class="H002a" id="H002a">
If <u>seated</u>, on what...<br></br>
<label><input type="radio" name="foundseat" value="" checked />&lt;blank&gt</label>
<label><input type="radio" name="foundseat" value=" on couch" />couch</label>
<label><input type="radio" name="foundseat" value=" on a chair" />chair</label>
<label><input type="radio" name="foundseat" value=" on the floor" />floor</label>
<label><input type="radio" name="foundseat" value=" on the ground" />ground</label>
<label><input type="radio" name="foundseat" value=" on XXX" />other</label>
<br><br>
</form>

<form action="#" method="post" class="H002b" id="H002b">
If <u>lying</u>, how...<br></br>
<label><input type="radio" name="foundlying" value="" checked />&lt;blank&gt</label>
<label><input type="radio" name="foundlying" value=", fowlers" />fowlers</label>
<label><input type="radio" name="foundlying" value=", semi-fowlers" />semi-fowlers</label>
<label><input type="radio" name="foundlying" value=", prone" />prone</label>
<label><input type="radio" name="foundlying" value=", supine" />supine</label>
<label><input type="radio" name="foundlying" value=", XXX lateral recumbent" />XXX lateral recumbent</label>
<label><input type="radio" name="foundlying" value=" XXX" />other</label>
<br><br>
</form>

<form action="#" method="post" class="H002c" id="H002c">
If <u>lying</u>, on what...<br></br>
<label><input type="radio" name="foundlyingon" value="" checked />&lt;blank&gt</label>
<label><input type="radio" name="foundlyingon" value=", on a bed" />bed</label>
<label><input type="radio" name="foundlyingon" value=", on the couch" />couch</label>
<label><input type="radio" name="foundlyingon" value=", on the floor" />floor</label>
<label><input type="radio" name="foundlyingon" value=", on the ground" />ground</label>
<label><input type="radio" name="foundlyingon" value=", on the stairs" />stairs</label>
<label><input type="radio" name="foundlying" value=" on the XXX" />other</label>
<br><br>
</form>

<form action="#" method="post" class="H003" id="H003">
What location...<br></br>
<label><input type="radio" name="location" value=" living room" checked />living room</label>
<label><input type="radio" name="location" value=" bedroom" />bedroom</label>
<label><input type="radio" name="location" value=" kitchen" />kitchen</label>
<label><input type="radio" name="location" value=" bathroom" />bathroom</label>
<label><input type="radio" name="location" value=" XXX" />other</label>
<br><br>
</form>


<form action="#" method="post" class="H004" id="H004">
<p><input type="checkbox" onclick="toggleSub(this, 'traumacall_sub')" name="traumacall" id="traumacall" value="1" />Click if this was a trauma call</p>
<fieldset>

    <div id="traumacall_sub">

		<!-- Scene Size Up - MVA (airbags, fluids), Fall (height, how fall was
			broken), Assault, etc -->

		<!-- AVPU - Alert, Verbal, Painful, Unconscious -->

		<!-- Airway - visually patent, interventions:  OPA, NPA, suction -->
		
		<!-- Breathing - feel chest rise, hear breath sounds, expose chest to look
						for life threatening injuries, interventions:  supplemental
						O2, BVM, occlusive dressing, padded flail chest, etc -->
		
		<!-- Circulation - exsanguination, interventions:  pressure, tourniquet,
						etc -->

		<!-- C-spine precautions -->
		<form action="#" method="post" class="H004a" id="H004a">C-spine precautions?<br></br>
			<label><input type="radio" name="cspine" value="ASAN" checked />Advanced Spinal Assessment NEGATIVE FINDINGS</label><br>
			<label><input type="radio" name="cspine" value="ASAP" />Advanced Spinal Assessment POSITIVE FINDINGS</label><br>
			<label><input type="radio" name="cspine" value="manual" />Manual c-spine initiated</label><br>
			<label><input type="radio" name="cspine" value="XXX c-spine precautions taken" />other</label><br>
		<br><br>
		</form>
	
		<!-- RTE -->
		<input type="checkbox" onclick="toggleSub(this, 'rte_sub')" name="rte" id="rte" value="1" />Click if an RTE was done</p>		
		<div id="rte_sub">
			<form action="#" method="post" class="RTEHEAD" id="RTEHEAD">Select statement about head<br></br>
				<label><input type="radio" name="location" value=" living room" checked />living room</label><br>
				<label><input type="radio" name="location" value=" bedroom" />bedroom</label><br>
				<label><input type="radio" name="location" value=" kitchen" />kitchen</label><br>
				<label><input type="radio" name="location" value=" bathroom" />bathroom</label><br>
				<label><input type="radio" name="location" value=" XXX" />other</label><br>
			<br><br>
			</form>
		</div>
		
		<!-- Trauma Team Activation, Paramedic intercept, ALS call -->

		<!-- Backboard, collar, splint, scoop or other stretcher to move the
			pt to the back of the ambulance -->


    </div>
</fieldset>
<br><br>
</form>


<form action="#" method="post" class="H005" id="H005">
<p><input type="checkbox" onclick="toggleSub(this, 'medicalcall_sub')" name="medicalcall" id="medicalcall" value="1" />Click if this was a medical call</p>
<fieldset>

    <div id="medicalcall_sub">

	<!-- Double-check what the book suggests for a process!
			TODO:  book breaks process down to conscious and unconscious 
				medical patients -->

	<!-- Appearance, Attitude, Behaviour, Mood & Affect, Speech -->

	<!-- ABC's -->
	
	<!-- Signs & Symptoms -->

	<!-- On-site Vitals - especially including 12-lead, SpO2, BP, HR, skin
		color/temp/condition, BG -->
	
	<!-- Allergies -->

	<!-- Medications -->

	<!-- Past Pertinent History -->

	<!-- Last Oral Intake -->

	<!-- Events Leading Up To -->

    </div>
</fieldset>
<br><br>
</form>

<!-- 2nd paragraph -->
<form action="#" method="post" class="H100" id="H100">
Did anything happen prior to your arrival that should be noted?<br></br>
<label><input type="radio" name="PTA" value="Yes" checked />Yes</label>
<label><input type="radio" name="PTA" value="No" />No</label>
<br></br>
</form>



<br><a href="#dispatchedsection">Dispatched</a>&nbsp;&nbsp<a href="#chiefcomplaintsection">Chief Complaint</a>&nbsp;&nbsp<a href="#historysection">History</a>&nbsp;&nbsp<a href="#assessmentsection">Assessment</a>&nbsp;&nbsp<a href="#treatmentsection">Treatment</a>&nbsp;&nbsp<a href="#transportsection">Transport</a>&nbsp;&nbsp<a href="#othersection">Other</a>&nbsp;&nbsp<a href="#generatesection">GENERATE</a>&nbsp;&nbsp
</fieldset>



<br></br>
<!--
 ==============================================================================
 ASSESSMENT section
 ==============================================================================
 -->
<a id="assessmentsection"></a>
<p1><b>ASSESSMENT</b></p1>
<fieldset>

<form action="#" method="post" class="A001" id="A001">
<p><input type="checkbox" name="HtoT" id="HtoT" value="1" />Click if there was a detailed physical exam</p>
<fieldset>
<div id="HtoT_sub">

        <p><span>Check which types (TODO:  this will be removed, just leave it here as an example for now)</span>
        <label><input type="checkbox" name="bparts[]" value="Head" />Head</label>
        <label><input type="checkbox" name="bparts[]" value="Neck" />Neck</label>
        <label><input type="checkbox" name="bparts[]" value="Chest" />Chest</label>
        <label><input type="checkbox" name="bparts[]" value="Abdomen" />Abdomen</label>
        <label><input type="checkbox" name="bparts[]" value="Legs" />Legs</label>
        <label><input type="checkbox" name="bparts[]" value="Arms" />Arms</label></p>

	<!-- RTE -->
	<input type="checkbox" onclick="toggleSub(this, 'dpehead_sub')" name="dpehead" id="dpehead" value="1" />HEAD, click to expand</p>		
		<div id="dpehead_sub">

			<form action="#" method="post" class="RTEHEAD" id="RTEHEAD">Select statements about head<br></br>
				<label><input type="checkbox" name="headst[]" value="Head round, intact, normocephalic and atraumatic." />Head round, intact, normocephalic and atraumatic.</label><br>
				<label><input type="checkbox" name="headst[]" value="No deformities, contusions or crepitus to the front, top, sides or back of the skull." />No deformities, contusions or crepitus to the front, top, sides or back of the skull.</label><br>
				<label><input type="checkbox" name="headst[]" value="No facial soft tissue injuries noted." />No facial soft tissue injuries noted.</label><br>
				<label><input type="checkbox" name="headst[]" value="Face and facial reactions symmetrical." />Face and facial reactions symmetrical.</label><br>
				<label><input type="checkbox" name="headst[]" value="Patients smile is even with no facial droop on either side." />Patients smile is even with no facial droop on either side.</label><br>
				<label><input type="checkbox" name="headst[]" value="No maxillary or frontal sinus tenderness." />No maxillary or frontal sinus tenderness.</label><br>
				<label><input type="checkbox" name="headst[]" value="No pain or sensitivity to palpation around the eyes/eye orbits, sinus areas, jaw, mandible, maxilla and temple." />No pain or sensitivity to palpation around the eyes/eye orbits, sinus areas, jaw, mandible, maxilla and temple.</label><br>
				<label><input type="checkbox" name="headst[]" value="There is no visible or audible compromise to the oro and nasopharynx airway structures." />There is no visible or audible compromise to the oro and nasopharynx airway structures.</label><br>
				<label><input type="checkbox" name="headst[]" value="Airway appears clear and patent with no blood, vomit or excessive secretions present." />Airway appears clear and patent with no blood, vomit or excessive secretions present.</label><br>
				<label><input type="checkbox" name="headst[]" value="The nasopharynx, oropharynx and pharynx are all patent with no stridor sounds." />The nasopharynx, oropharynx and pharynx are all patent with no stridor sounds.</label><br>
			<label>INJURIES:</label><br>
				<label><input type="checkbox" name="headst[]" value="Injuries to the posterior/anterior/superior cranium including XXX." />Injuries to the posterior/anterior/superior cranium including XXX.</label><br>
				<label><input type="checkbox" name="headst[]" value="{Deformities, contusions, crepitus} to the {front, top, sides, back} of the skull." />{Deformities, contusions, crepitus} to the {front, top, sides, back} of the skull.</label><br>
				<label><input type="checkbox" name="headst[]" value="Facial soft-tissue injuries including XXX." />Facial soft-tissue injuries including XXX.</label><br>
				<label><input type="checkbox" name="headst[]" value="Face and facial reactions do not appear symmetrical including XXX." />Face and facial reactions do not appear symmetrical including XXX.</label><br>
				<label><input type="checkbox" name="headst[]" value="Smile uneven with facial droop on XXX side." />Smile uneven with facial droop on XXX side.</label><br>
				<label><input type="checkbox" name="headst[]" value="Maxillary and frontal sinus tenderness." />Maxillary and frontal sinus tenderness.</label><br>
				<label><input type="checkbox" name="headst[]" value="{Pain/sensitivity} to palpation around the {eyes/eye orbits, sinus areas, jaw, mandible, maxilla, temple}." />{Pain/sensitivity} to palpation around the {eyes/eye orbits, sinus areas, jaw, mandible, maxilla, temple}.</label><br>
				<label><input type="checkbox" name="headst[]" value="{Visible, audible} compromise to the oro and nasopharynx airway structures including XXX." />{Visible, audible} compromise to the oro and nasopharynx airway structures including XXX.</label><br>
				<label><input type="checkbox" name="headst[]" value="Airway does not appear clear and patent due to {blood, vomit, excessive secretions, other XXX} present." />Airway does not appear clear and patent due to {blood, vomit, excessive secretions, other XXX} present.</label><br>
				<label><input type="checkbox" name="headst[]" value="The {nasopharynx, oropharynx, pharynx} do not appear patent and present stridor sounds." />The {nasopharynx, oropharynx, pharynx} do not appear patent and present stridor sounds.</label><br>
			<br><br>
			</form>

			<form action="#" method="post" class="RTEEYES" id="RTEEYES">Select statements about eyes<br></br>
				<label><input type="radio" name="location" value=" living room" checked />living room</label><br>
				<label><input type="radio" name="location" value=" bedroom" />bedroom</label><br>
				<label><input type="radio" name="location" value=" kitchen" />kitchen</label><br>
				<label><input type="radio" name="location" value=" bathroom" />bathroom</label><br>
				<label><input type="radio" name="location" value=" XXX" />other</label><br>
			<br><br>
			</form>

			<form action="#" method="post" class="RTEEARS" id="RTEEARS">Select statements about ears<br></br>
				<label><input type="radio" name="location" value=" living room" checked />living room</label><br>
				<label><input type="radio" name="location" value=" bedroom" />bedroom</label><br>
				<label><input type="radio" name="location" value=" kitchen" />kitchen</label><br>
				<label><input type="radio" name="location" value=" bathroom" />bathroom</label><br>
				<label><input type="radio" name="location" value=" XXX" />other</label><br>
			<br><br>
			</form>

			<form action="#" method="post" class="RTENOSE" id="RTENOSE">Select statements about nose<br></br>
				<label><input type="radio" name="location" value=" living room" checked />living room</label><br>
				<label><input type="radio" name="location" value=" bedroom" />bedroom</label><br>
				<label><input type="radio" name="location" value=" kitchen" />kitchen</label><br>
				<label><input type="radio" name="location" value=" bathroom" />bathroom</label><br>
				<label><input type="radio" name="location" value=" XXX" />other</label><br>
			<br><br>
			</form>

			<form action="#" method="post" class="RTEMOUTH" id="RTEMOUTH">Select statements about mouth<br></br>
				<label><input type="radio" name="location" value=" living room" checked />living room</label><br>
				<label><input type="radio" name="location" value=" bedroom" />bedroom</label><br>
				<label><input type="radio" name="location" value=" kitchen" />kitchen</label><br>
				<label><input type="radio" name="location" value=" bathroom" />bathroom</label><br>
				<label><input type="radio" name="location" value=" XXX" />other</label><br>
			<br><br>
			</form>

			<form action="#" method="post" class="RTENECK" id="RTENECK">Select statements about neck<br></br>
				<label><input type="radio" name="location" value=" living room" checked />living room</label><br>
				<label><input type="radio" name="location" value=" bedroom" />bedroom</label><br>
				<label><input type="radio" name="location" value=" kitchen" />kitchen</label><br>
				<label><input type="radio" name="location" value=" bathroom" />bathroom</label><br>
				<label><input type="radio" name="location" value=" XXX" />other</label><br>
			<br><br>
			</form>

			<form action="#" method="post" class="RTEUPAIRWAY" id="RTEUPAIRWAY">Select statements about upper airway<br></br>
				<label><input type="radio" name="location" value=" living room" checked />living room</label><br>
				<label><input type="radio" name="location" value=" bedroom" />bedroom</label><br>
				<label><input type="radio" name="location" value=" kitchen" />kitchen</label><br>
				<label><input type="radio" name="location" value=" bathroom" />bathroom</label><br>
				<label><input type="radio" name="location" value=" XXX" />other</label><br>
			<br><br>
			</form>

			
		</div>

</div>
</fieldset>
<br><br>	
</form>


<br><a href="#dispatchedsection">Dispatched</a>&nbsp;&nbsp<a href="#chiefcomplaintsection">Chief Complaint</a>&nbsp;&nbsp<a href="#historysection">History</a>&nbsp;&nbsp<a href="#assessmentsection">Assessment</a>&nbsp;&nbsp<a href="#treatmentsection">Treatment</a>&nbsp;&nbsp<a href="#transportsection">Transport</a>&nbsp;&nbsp<a href="#othersection">Other</a>&nbsp;&nbsp<a href="#generatesection">GENERATE</a>&nbsp;&nbsp
</fieldset>



<br></br>	
<!--
 ==============================================================================
 TREATMENT section
 ==============================================================================
 -->
<a id="treatmentsection"></a>
<p1><b>TREATMENT</b></p1>
<fieldset>


<br><a href="#dispatchedsection">Dispatched</a>&nbsp;&nbsp<a href="#chiefcomplaintsection">Chief Complaint</a>&nbsp;&nbsp<a href="#historysection">History</a>&nbsp;&nbsp<a href="#assessmentsection">Assessment</a>&nbsp;&nbsp<a href="#treatmentsection">Treatment</a>&nbsp;&nbsp<a href="#transportsection">Transport</a>&nbsp;&nbsp<a href="#othersection">Other</a>&nbsp;&nbsp<a href="#generatesection">GENERATE</a>&nbsp;&nbsp
</fieldset>



<br></br>
<!--
 ==============================================================================
 TRANSPORT section
 ==============================================================================
 -->
<a id="transportsection"></a>
<p1><b>TRANSPORT</b></p1>
<fieldset>

<form>
How was patient during transport?
<select id="T001">
  <option>Transport was otherwise uneventful</option>
  <option>Pt remained talkative and cooperative throughout transport</option>
  <option>Pt appeared agitated throughout transport</option>
  <option>Pt appeared uncomfortable throughout transport</option>
  <option>Pt appeared in pain throughout transport</option>
  <option>Transport was XXX</option>
</select>
<br></br>
</form>


<form action="#" method="post" class="T002" id="T002">
Which hospital did you transport to?<br></br>
<label><input type="radio" name="hospital" value=" to SNHMC." checked />SNHMC</label>
<label><input type="radio" name="hospital" value=" to St Joseph." />St Joseph</label>
<label><input type="radio" name="hospital" value=" to the Elliot." />Elliot</label>
<label><input type="radio" name="hospital" value=" to CMC." />CMC</label>
<label><input type="radio" name="hospital" value=" to Monadnock Community." />Monadnock</label>
<br></br>
</form>


<form action="#" method="post" class="T003" id="T003">
How was patient moved to hospital bed?<br></br>
<label><input type="radio" name="movedToBed" value=" stretcher moved adjacent to hospital bed and pt slid over under their own power." checked />patient slid themselves over</label><br>
<label><input type="radio" name="movedToBed" value=" stretcher moved adjacent to hospital bed and pt moved over with XXX person sheet drag." />patient moved with sheet drag</label><br>
<label><input type="radio" name="movedToBed" value=" stretcher lowered so that pt stood and walked a couple feet to the hospital bed." />patient stood and walked to hospital bed</label><br>
<label><input type="radio" name="movedToBed" value=" stretcher lowered so that pt stood and was assisted walking a couple feet to the hospital bed." />patient stood and was assisted to hospital bed</label><br>
<label><input type="radio" name="movedToBed" value=" pt was moved to the hospital bed by XXX." />other</label><br>
<br></br>
</form>

<form action="#" method="post" class="T004" id="T004">
Was oxygen transferred over, patient connected to NIBP, pulse ox, etc?<br></br>
<label><input type="radio" name="hospEquip" value=" and " checked />No.</label>
<label><input type="radio" name="hospEquip" value=", oxygen transferred over to hospital supply, and " />Oxygen</label>
<label><input type="radio" name="hospEquip" value=", oxygen transferred over, NIBP cuff attached to pt's XXX arm, and " />Oxygen, NIBP</label>
<label><input type="radio" name="hospEquip" value=", oxygen transferred over, NIBP cuff attached to pt's XXX arm, pulse ox connected to pt's XXX hand, and " />oxygen, NIBP & pulse ox</label>
<label><input type="radio" name="hospEquip" value=", XXX was transferred over to hospital equipment, and " />Other</label>
<br></br>
</form>

<br><a href="#dispatchedsection">Dispatched</a>&nbsp;&nbsp<a href="#chiefcomplaintsection">Chief Complaint</a>&nbsp;&nbsp<a href="#historysection">History</a>&nbsp;&nbsp<a href="#assessmentsection">Assessment</a>&nbsp;&nbsp<a href="#treatmentsection">Treatment</a>&nbsp;&nbsp<a href="#transportsection">Transport</a>&nbsp;&nbsp<a href="#othersection">Other</a>&nbsp;&nbsp<a href="#generatesection">GENERATE</a>&nbsp;&nbsp
</fieldset>



<br></br>
<!--
 ==============================================================================
 OTHER section
 ==============================================================================
 -->
<a id="othersection"></a>
<p1><b>OTHER</b></p1>
<fieldset>

Other field automatically filled in with primary care physician & ER Doctor XXX fields.<br></br>

<br><a href="#dispatchedsection">Dispatched</a>&nbsp;&nbsp<a href="#chiefcomplaintsection">Chief Complaint</a>&nbsp;&nbsp<a href="#historysection">History</a>&nbsp;&nbsp<a href="#assessmentsection">Assessment</a>&nbsp;&nbsp<a href="#treatmentsection">Treatment</a>&nbsp;&nbsp<a href="#transportsection">Transport</a>&nbsp;&nbsp<a href="#othersection">Other</a>&nbsp;&nbsp<a href="#generatesection">GENERATE</a>&nbsp;&nbsp
</fieldset>


<br></br>
<!--
 ==============================================================================
  Generate the document by calling javascript function
 ==============================================================================
  -->
<a id="generatesection">

  <input type="button" onclick="getOption()" value="Generate!">
<br></br><hr></hr>


<!-- 
 ==============================================================================
 Display the "demo" document
 ==============================================================================
 -->
<p id="demo"></p>

<hr></hr>
<a href="#dispatchedsection">Dispatched</a>&nbsp;&nbsp<a href="#chiefcomplaintsection">Chief Complaint</a>&nbsp;&nbsp<a href="#historysection">History</a>&nbsp;&nbsp<a href="#assessmentsection">Assessment</a>&nbsp;&nbsp<a href="#treatmentsection">Treatment</a>&nbsp;&nbsp<a href="#transportsection">Transport</a>&nbsp;&nbsp<a href="#othersection">Other</a>&nbsp;&nbsp<a href="#generatesection">GENERATE</a>&nbsp;&nbsp



<!--
 ==============================================================================
  SCRIPT section
 ==============================================================================
  -->
<script>

//
// This function runs when the page first loads
//
function PgLoadFunc() {
	toggleSub('HtoT', 'HtoT_sub');
	toggleSub('traumacall', 'traumacall_sub');
	toggleSub('rte', 'rte_sub');
	
	toggleSub('medicalcall', 'medicalcall_sub');
	
	toggleSub('dpehead', 'dpehead_sub');
}


//
// Get Radiobutton data
//
function getRadioVal(form, name) {
    var val;
    // get list of radio buttons with specified name
    var radios = form.elements[name];
    
    // loop through list of radio buttons
    for (var i = 0, len = radios.length; i < len; i++) {
        if ( radios[i].checked ) { // radio checked?
            val = radios[i].value; // if so, hold its value in val
            break; // and break out of for loop
        }
    }
    return val; // return value of checked radio or undefined if none checked
}


//
// Get Checkbox data
//
function getCheckData(form, name) {
    var val = "";
    var join = "";
	var len = 0;
	var totalchecked = 0;
	var timesthrough = 0;
	// get list of radio buttons with specified name
    var cboxes = form.elements[name];

	// Find out how many checkboxes are checked:
	for (var j = 0, len = cboxes.length; j < len; j++) {
		// console.log("j = ", j);
        if ( cboxes[j].checked ) { // check box checked?
			totalchecked++;
		}
	}

    // loop through list of check boxes
    for (var i = 0, len = cboxes.length; i < len; i++) {
        if ( cboxes[i].checked ) { // check box checked?
			if (timesthrough > 0) {
				join = ", ";
			}
			if ( (timesthrough != 0) && (timesthrough == (totalchecked - 1)) ) {
				join = " and ";
			}
            val = val + join + cboxes[i].value; // if so, add its value in val
			timesthrough++;
        }
    }
    return val; // return value of checked radio or undefined if none checked
}


//
// assign function to onclick property of checkbox
//	
document.getElementById('HtoT').onclick = function() {
	// call toggleSub when checkbox clicked
	// toggleSub args: checkbox clicked on (this), id of element to show/hide
	toggleSub(this, 'HtoT_sub');
};

//
// called onclick of checkbox
//
function toggleSub(box, id) {
    // get reference to related content to display/hide
    var el = document.getElementById(id);
    
    if ( box.checked ) {
        el.style.display = 'block';
    } else {
        el.style.display = 'none';
    }
}


//
// GetOptions
//
function getOption() {
	const sp2 = "&nbsp;&nbsp";
	const newP = "<br><br>";
	const newP3 = "<br><br><br>";
	
	
	// ************************************************************************
	// DISPATCHED
	var disp1 = "D:" + sp2 + "Dispatched for ";
	var disp2t = document.getElementById("D001");	// cba, etc.
	var disp2 = disp2t.options[disp2t.selectedIndex].text;
	var disp3 = " XXX YO ";
	var gender = getRadioVal(document.getElementById("D002"), "sex");
	var desig = getRadioVal(document.getElementById("D003"), "designation");
	if (desig != "") {
		desig = ", " + desig + " call";
	}
	var dispdetail = getRadioVal(document.getElementById("D004"), "dispdet");
	//var disp6t = document.getElementById("D004");	// additional detail yes/no
	//disp6t = disp6t.options[disp6t.selectedIndex].text;
	if (dispdetail == "Yes") {
		dispdetail = " with a report of XXX.";
		if (desig != "")
			dispdetail = "," + dispdetail;
	} else {
		dispdetail = ". No additional details included in dispatch.";
	}
	
	Dispatched = disp1 + disp2 + disp3 + gender + desig + dispdetail +
		newP3;
	
	// ************************************************************************
	// CHIEF COMPLAINT
	var comp1 = "C:" + sp2;
	var comp2t = document.getElementById("myC001");
	var comp2 = comp2t.options[comp2t.selectedIndex].text;
	
	CComplaint = comp1 + comp2 + newP3;
	
	// ************************************************************************
	// HISTORY
	
	// UOA
	var hist1 = "H:" + sp2;
	var metonscene = getCheckData(document.getElementById("H001"), "meet");
	var UOA = "UOA were met on-scene by ";
	if (metonscene == "") {
		UOA = "";
	} else {
		metonscene = metonscene + ".";
	}
	var found = getRadioVal(document.getElementById("H002"), "found");
	var ptFound =  "Pt was found" + found;
	var foundseat = getRadioVal(document.getElementById("H002a"), "foundseat");
	var foundlying = getRadioVal(document.getElementById("H002b"), "foundlying");
	var foundlyingon = getRadioVal(document.getElementById("H002c"), "foundlyingon");
	if (found == " seated")
		ptFound += foundseat;
	if (found == " lying")
		ptFound = ptFound + foundlying + foundlyingon;
	var location = getRadioVal(document.getElementById("H003"), "location");
	ptFound = ptFound + " in the " + location + ".";
	
	
	// PTA
	var PTA = getRadioVal(document.getElementById("H100"), "PTA");
	if (PTA == "Yes") {
		var PTOA = newP + "PTOA XXX."
	} else {
		var PTOA = "";
	}
	
	History = hist1 + UOA + metonscene + sp2 + ptFound + PTOA + newP3;

	// ************************************************************************
	// ASSESSMENT
	var asse1 = "A:" + sp2;


	
	Assessment = asse1 + newP3;

	// ************************************************************************
	// TREATMENT
	var trea1 = "R:" + sp2;
	
	
	Treatment = trea1 + newP3;

	// ************************************************************************
	// TRANSPORT
	var tran1 = "T:" + sp2;
	var tran2t = document.getElementById("T001");	// pt state during transport
	var tran2 = tran2t.options[tran2t.selectedIndex].text;
	var hospital = getRadioVal(document.getElementById("T002"), "hospital");
	hospital += sp2;

	var toRoom = "Pt was unloaded from the ambulance and wheeled into the ER to room XXX." + sp2;
	var unbuckle = "All belts were unbuckled and rail was lowered, ";
	var movedToBed = getRadioVal(document.getElementById("T003"), "movedToBed");
	var railsRaised = sp2 + "Rails were raised";
	var hospEquip = getRadioVal(document.getElementById("T004"), "hospEquip");
	var ptToBed = unbuckle + movedToBed + railsRaised + hospEquip;
	
	var toNurse = "full report and transition of pt care given to Nurse XXX.";
	
	Transport = tran1 + tran2 + hospital + toRoom + ptToBed + toNurse + newP3;

	// ************************************************************************
	// OTHER
	var othe1 = "O:" + sp2;
	var PtPCP = "Pt's PCP:  XXX;";
	var ERDoc = sp2 + "ER Doctor:  XXX";
	
	Other = othe1 + PtPCP + ERDoc + newP3;

	
	// EOR
	EOR = "EOR; KDC";

	// Assemble all the sections together...
	document.getElementById("demo").innerHTML = Dispatched + CComplaint +
		History + Assessment + Treatment + Transport + Other + EOR;
}


function myFunction() {

	var a = "TESTING";
    var w = window.open();
    w.document.open();
    w.document.write("<h1>Hello " + a + " World!</h1>");
    w.document.close();
}

</script>

</body>
</html>
